# PCG32 Random Number Generator (Micropython Port)

## 1.Introduction
This repository contains a Micropython implementation of the **PCG32** (Permuted Congruential Generator) random number generator, originally developed in C by [Melissa O'Neill](http://www.pcg-random.org). 

The code is ported for use on embedded systems such as **ESP32**, **RP2040**, or **PyBoard**, and is designed to run on platforms with MicroPython.

The **PCG32** algorithm provides high-quality, fast, and statistically robust random numbers. It is especially well-suited for environments with limited resources, like microcontrollers.

## 2.Features
- **High-quality random number generation** based on the **PCG32** algorithm.
- **Easy integration** with MicroPython-based devices (ESP32, RP2040, PyBoard, etc.).
- The generator uses a **64-bit seed** and a **64-bit increment**, with optional automatic initialization using the device's unique ID and current time.
- Generates **32-bit random numbers** and can produce **random integers** within a given range.
  
#### 3.Code Overview
The code is fully documented in the source file
[Source Code](https://github.com/MicroControleurMonde/PCG32_Port/blob/main/PCG32_Minimal_Port_PyBoard.py)

## 4.Output:
```
32-bit random value:  3037929063
Random number between 1 and 1000:  709
```
## 5.Installation
To use the PCG32 random number generator, you can directly copy the code into your project.

## 6.Dependencies
This code requires **MicroPython** to run on your embedded device (ESP32, RP2040, etc.).
- **MicroPython**
- **`machine`** and **`time`** modules.

## 7.License
This project is licensed under the Apache License 2.0 (Same as initial code)

## 8.Authors
Original C implementation by [Melissa O'Neill](http://www.pcg-random.org).  

Micro-python port by MicroControleurMonde

## 9.References
- [PCG Random Number Generation for C](https://www.pcg-random.org/download.html)

## 10.Updates Hardware Seed (Pyboard and ESP32 )
- ~~An improved version of the code for Pyboard v1.1 using the **`pyb.rng()`** fonction (Hardware TRNG use)  to seed the PCG generator with some entropy shall come soon.~~

- ####   Update 04.12.24 - PCG32 improved with use of `pyb.rng()` for the seeding:
<ins>**Remark:**</ins> After initialization, the first value generated by the generator is ignored. This makes it possible to "mix" the internal state so that the first value retrieved with randint() is not biased.

[Source Code - PyBoard Rng Seed](https://github.com/MicroControleurMonde/PCG32_Port/blob/main/PCG32_Minimal_Port_Rng_PyBoard.py)

#### Output:
```
Random number between 1 and 1000:  169
Random number between 1 and 1000:  975
Random number between 1 and 1000:  836
Random number between 1 and 1000:  16
Random number between 1 and 1000:  401
Random number between 1 and 1000:  104
Random number between 1 and 1000:  391
Random number between 1 and 1000:  871
Random number between 1 and 1000:  568
Random number between 1 and 1000:  66
```

- An improved version of the code for ESP32-S using the **`esp32_rng.py()`** fonction (Hardware TRNG use)  to seed the PCG generator.
- Validation tests will come in a later stage (***Dieharder***/***Ent***)
